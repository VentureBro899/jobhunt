(function(){"use strict";var t={2902:function(t,e,a){a(6791);var s,i,n=a(4269),o=(a(7580),a(7937)),r=(a(6972),a(1878)),l=(a(4889),a(5705)),u=(a(8146),a(8848)),c=(a(3364),a(9984)),d=(a(3446),a(4861)),p=(a(323),a(5931)),h=(a(836),a(6811)),m=(a(6115),a(4588)),v=(a(7505),a(7061)),f=(a(1049),a(140)),g=(a(2443),a(9864)),b=(a(7322),a(6631)),w=(a(8984),a(797)),_=(a(4035),a(4814)),$=(a(6871),a(1765)),k=(a(3089),a(4398)),x=(a(2680),a(8889)),y=(a(6562),a(4159)),Z=(a(4825),a(7165)),j=(a(9031),a(6790)),C=(a(4399),a(5947)),P=(a(5825),a(9858)),q=(a(2986),a(2628)),L=(a(319),a(9245)),z=(a(5816),a(9387)),S=(a(2679),a(1957)),T=(a(4408),a(4639)),O=a(6369),D=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view",{key:t.$route.fullPath}),e("van-tabbar",{attrs:{border:!0,route:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[t._v("首页")]),e("van-tabbar-item",{attrs:{icon:"apps-o",to:"/sort"}},[t._v("分类")]),e("van-tabbar-item",{staticClass:"fa fa-plus-square fa-4x",attrs:{to:"/mine/jobadd"}}),e("van-tabbar-item",{attrs:{icon:"envelop-o",to:"/message"}},[t._v("站内信")]),e("van-tabbar-item",{attrs:{icon:"friends-o",to:"/user"}},[t._v("我的")])],1)],1)},A=[],F={data(){return{key:"",active:0}},created(){}},H=F,I=a(1001),J=(0,I.Z)(H,D,A,!1,null,null,null),N=J.exports,Q=a(2631),B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"search"},[e("img",{attrs:{src:a(6949)}}),e("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:t.onSearch},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),e("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white",height:150}},t._l(t.ppt,(function(a){return e("van-swipe-item",{key:a.id},[""===a.image?e("div",[t._v(t._s(a.description))]):e("div",[e("img",{staticClass:"pptimg",attrs:{src:a.image}})])])})),1),e("div",{staticClass:"van-ellipsis statistic"},[e("span",{staticClass:"fa fa-bell"}),t._v("帖子总数:"),e("h5",[t._v(t._s(t.jobTotal))]),t._v(" 今天发布:"),e("h5",[t._v(t._s(t.jobToday))])]),e("van-row",[e("van-col",{staticClass:"channel",attrs:{span:"6"},on:{click:function(e){return t.sort("微信单")}}},[e("span",{staticClass:"fa fa-wechat fa-2x"}),t._v(" 微信单 ")]),e("van-col",{staticClass:"channel",attrs:{span:"6"},on:{click:function(e){return t.sort("QQ单")}}},[e("span",{staticClass:"fa fa-qq fa-2x"}),t._v(" QQ单 ")]),e("van-col",{staticClass:"channel",attrs:{span:"6"},on:{click:function(e){return t.sort("需求发布")}}},[e("span",{staticClass:"fa fa-edit fa-2x"}),t._v(" 需求发布 ")]),e("van-col",{staticClass:"channel",attrs:{span:"6"},on:{click:function(e){return t.sort("骗子曝光")}}},[e("span",{staticClass:"fa fa-desktop fa-2x"}),t._v(" 骗子曝光 ")])],1),e("div",{staticClass:"van-ellipsis notice",style:"color:"+t.notice.color},[e("span",{staticClass:"fa fa-volume-up"}),t._v(t._s(t.notice.content))]),e("Loading",{attrs:{initialized:t.initialized}}),t._l(t.topList,(function(t){return e("Job",{key:t.id,attrs:{id:t.id,uid:t.uid,title:t.title,cname:t.cname,avatar:t.avatar,publisher:t.username,detail:t.detail,view:t.view,date:t.date,price:t.price,topping:t.topping,guarantee:t.guarantee}})})),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.jobList,(function(t){return e("Job",{key:t.id,attrs:{id:t.id,uid:t.uid,title:t.title,cname:t.cname,avatar:t.avatar,publisher:t.username,detail:t.detail,view:t.view,date:t.date,price:t.price,topping:t.topping,guarantee:t.guarantee}})})),1)],2)},R=[],M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"job"},[e("van-row",{staticClass:"head"},[e("van-col",{staticStyle:{"text-align":"center"},attrs:{span:"4"}},[e("van-image",{attrs:{round:"",width:"50px",height:"50px",src:t.avatar}})],1),e("van-col",{attrs:{span:"20"}},[e("van-row",[e("van-col",{attrs:{span:"22"}},[e("div",{staticClass:"van-ellipsis title"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.topping,expression:"topping"}],staticClass:"topping"},[t._v("顶")]),t._v(t._s(t.title))])]),e("van-button",{attrs:{plain:"",hairline:"",type:"info",size:"small",round:"",to:"/JobDetails/"+t.uid+"/"+t.id}},[t._v("详情")])],1),e("div",{staticClass:"tip"},[e("span",[t._v(t._s(t.publisher))]),e("span",[t._v(t._s(t.view)+"次浏览")]),e("span",[t._v(t._s(t.time))]),e("span",[e("van-tag",{attrs:{plain:"",type:"primary"}},[t._v(t._s(t.cname))])],1)])],1)],1),t.hidden?e("div",{staticClass:"desc"},[e("div",{staticClass:"van-ellipsis"},[t._v(" "+t._s(t.detail)+" ")]),e("div",{staticClass:"jobattr"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.price,expression:"price!=0"}]},[t._v("单价："+t._s(t.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.guarantee,expression:"guarantee"}]},[t._v("支持担保")]),e("a",{staticClass:"showDetail",on:{click:t.switchDetail}},[t._v("展开")])])]):e("div",{staticClass:"desc"},[e("div",[e("pre",[t._v(t._s(t.detail))])]),e("div",{staticClass:"jobattr"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.price,expression:"price!=0"}]},[t._v("单价："+t._s(t.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.guarantee,expression:"guarantee"}]},[t._v("支持担保")]),e("a",{staticClass:"showDetail",on:{click:t.switchDetail}},[t._v("收起")])])])],1)},W=[],E={data(){return{hidden:!0}},props:{id:Number,uid:Number,cname:String,topping:Boolean,title:String,publisher:String,detail:String,view:Number,price:Number,avatar:String,guarantee:Boolean,date:String},computed:{time(){const t=Date.parse(this.date),e=Date.now(),a=new Date;a.setHours(0),a.setMinutes(0),a.setSeconds(0);const s=a.getTime(),i=s+864e5,n=s-864e5;return e-t<36e5?"刚刚":e-t<72e5?"两小时":t<s&&t>n?"昨天":t<i&&t>s?"今天":n<i&&t>s-5184e5?"本周":this.date.substring(0,10)}},methods:{switchDetail(){this.hidden=!this.hidden}}},U=E,V=(0,I.Z)(U,M,W,!1,null,null,null),G=V.exports,K={data(){return{keyword:"",jobList:[],notice:{content:"公告加载中...",color:"#cf0bec"},ppt:[],current:1,size:10,cname:"",topList:[],jobTotal:0,jobToday:0,initialized:!1,loading:!0,finished:!1,search:!1}},name:"HomeView",components:{Job:G},methods:{onSearch(){this.search=!0,this.current=0,this.jobList=[],this.finished=!1,this.onLoad()},onLoad(){this.loading=!0,this.current++,this.getList()},async getList(){const t=this.search?`/job/jau/${this.current}/${this.size}?keyword=${this.keyword}&cname=${this.cname}`:`/job/jau/${this.current}/${this.size}`,{data:e}=await this.$request.get(t);if(2e4===e.code){if(this.initialized=!0,this.loading=!1,0===e.data.length)return void(this.finished=!0);this.jobList=[...this.jobList,...e.data]}},sort(t){this.cname=t,this.search=!0,this.current=0,this.jobList=[],this.finished=!1,this.getTopping(),this.onLoad()},getTopping(){this.$request.get(`/job/jau/1/20?topping=true&keyword=${this.keyword}&cname=${this.cname}`).then((t=>{2e4===t.data.code&&(this.topList=t.data.data)}))}},mounted(){this.$request.get("/job/getTotal").then((t=>{2e4===t.data.code&&(this.jobTotal=t.data.data.total,this.jobToday=t.data.data.today)})),this.$request.get("/notice").then((t=>{2e4===t.data.code&&(this.notice=t.data.data)})),this.$request.get("/master/ppt").then((t=>{2e4===t.data.code&&(this.ppt=t.data.data.records)})),this.getTopping(),this.getList()},created(){document.title="大地推广-首页"}},X=K,Y=(0,I.Z)(X,B,R,!1,null,"d0ea83b2",null),tt=Y.exports,et=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"logincheck"},[e("van-image",{attrs:{round:"",width:"100px",height:"100px",src:t.avatar}}),t.islogined?e("h3",[t._v("欢迎你,"+t._s(t.username))]):e("div",{staticClass:"unlogin"},[e("van-button",{attrs:{type:"primary",to:"/login"}},[t._v("登录")]),e("van-button",{attrs:{type:"danger",to:"/register"}},[t._v("注册")])],1)],1),e("van-grid",{attrs:{clickable:"","column-num":2}},[e("van-grid-item",{attrs:{icon:"newspaper-o",text:"我发布的",to:"/mine/joblist"}}),e("van-grid-item",{attrs:{icon:"completed",text:"签到"},on:{click:t.sign}}),e("van-grid-item",{attrs:{icon:"upgrade",text:"发布帖子",to:"/mine/jobadd"}}),e("van-grid-item",{attrs:{icon:"setting-o",text:"账号管理",to:"/mine/setting"}}),e("van-grid-item",{attrs:{icon:"service-o",text:"联系客服",to:"/"}}),t.islogined?e("van-grid-item",{attrs:{icon:"close",text:"退出登录"},on:{click:t.logout}}):t._e()],1)],1)},at=[],st={data(){return{islogined:null!==localStorage.getItem("id"),username:localStorage.getItem("username"),avatar:localStorage.getItem("avatar")}},methods:{logout(){this.$dialog.confirm({title:"提示",message:"确定要退出吗"}).then((()=>{this.$request.post("/user/logout").then((()=>{this.$toast("已退出"),this.islogined=!1,localStorage.clear(),this.avatar="",this.username=""})).cathch((()=>{this.$toast.fail("网络异常")}))})).catch((()=>{this.$toast("已取消操作")}))},sign(){null!==localStorage.getItem("id")?this.$request.post("/user/sign").then((t=>{2e4===t.data.code?this.$toast.success("签到成功，余额+1"):this.$toast.success("你今天已签到，请勿重复签到")})):(this.$toast("您还未登录，请先登录"),this.$router.replace("/login"))}},created(){document.title="个人中心",this.$request.get("/user/islogin").then((t=>{2e4!==t.data.code&&(localStorage.clear(),this.islogined=!1,this.avatar="",this.username="")})).catch((()=>{localStorage.clear(),this.islogined=!1,this.avatar="",this.username=""}))}},it=st,nt=(0,I.Z)(it,et,at,!1,null,"4b10f57d",null),ot=nt.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"jobdetails"},[e("Header"),e("div",{staticClass:"main"},[e("div",{staticClass:"head"},[e("div",{staticClass:"picture"},[e("van-image",{attrs:{round:"",width:"70px",height:"70px",src:t.jobwu.avatar}})],1),e("div",{staticClass:"jobinfo"},[e("h3",[t._v(t._s(t.jobwu.username))]),e("div",{staticClass:"tip"},[e("span",[t._v(t._s(t.jobwu.date))]),e("span",[t._v("发布"+t._s(t.userTotal)+"条")]),e("span",{staticClass:"fa fa-angle-right",on:{click:t.userjobs}})])])]),e("van-divider",[e("div",{staticClass:"banner",on:{click:function(e){return t.makeBanner(1)}}},[t._v("生成海报")])]),e("div",{staticClass:"attr"},[e("van-row",[e("van-col",{attrs:{span:"24"}},[e("span",[t._v("标题：")]),e("span",[t._v(t._s(t.jobwu.title))])]),e("van-col",{attrs:{span:"24"}},[e("span",[t._v("团队人数：")]),e("span",[t._v(t._s(t.jobwu.groupnum))])]),e("van-col",{attrs:{span:"24"}},[e("span",[t._v("帖子类别：")]),e("span",[t._v(t._s(t.jobwu.cname))])]),e("van-col",{attrs:{span:"24"}},[e("span",[t._v("是否支持担保：")]),e("span",[t._v(t._s(t.jobwu.guarantee?"支持":"不支持"))])]),e("van-col",{attrs:{span:"24"}},[e("span",[t._v("联系方式1：")]),e("span",[t._v(t._s(t.jobwu.contactor1))])]),e("van-col",{attrs:{span:"24"}},[e("span",[t._v("联系方式2：")]),e("span",[t._v(t._s(t.jobwu.contactor2))])])],1)],1),e("van-divider",{attrs:{"content-position":"left"}},[t._v("详细信息")]),e("div",{staticClass:"desc"},[e("pre",[t._v(t._s(t.jobwu.detail)+"\n    ")]),e("div",{staticClass:"images"},t._l(t.pictures,(function(t,a){return e("van-image",{key:a,attrs:{width:"10rem",height:"10rem",src:t}})})),1)]),e("div",{staticClass:"others"},[e("span",{staticClass:"fa fa-thumbs-o-up",style:t.color,on:{click:t.thumb}},[t._v(t._s(t.jobwu.thumb))]),e("span",[t._v(t._s(t.jobwu.view)+"次浏览")]),e("span",[t._v(t._s(t.jobwu.thumb)+"人想做")])])],1),t._m(0),e("div",{staticClass:"jobs"},[null!=t.random?e("Job",{attrs:{id:t.random.id,uid:t.random.uid,title:t.random.title,cname:t.random.cname,avatar:t.random.avatar,publisher:t.random.username,detail:t.random.detail,view:t.random.view,date:t.random.date,price:t.random.price,topping:t.random.topping,guarantee:t.random.guarantee}}):t._e()],1)],1)},lt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"warning"},[e("span",[t._v("如遇无效、虚假、诈骗信息请立即举报")]),e("p",[t._v("提示：飞机无担保，被骗不负责，担保请认准客服飞机xxx")])])}],ut=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{fixed:"",title:t.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("div",{staticClass:"block"})],1)},ct=[],dt={props:{title:{default:""}},methods:{onClickLeft(){this.$router.back()}}},pt=dt,ht=(0,I.Z)(pt,ut,ct,!1,null,null,null),mt=ht.exports,vt={data(){return{jobwu:{avatar:"",cname:"",contactor1:"",contactor2:"",date:"2022-07-23 17",detail:"",groupnum:0,guarantee:!1,hot:!1,id:0,keep:!0,price:0,showing:!0,thumb:0,title:"萨达",topping:!1,uid:5,username:"李先生",view:1},random:{avatar:"",cname:"",date:"2022-07-23 17",detail:"",guarantee:!1,hot:!1,id:0,price:0,thumb:0,title:"萨达",topping:!1,uid:5,username:"李先生",view:1},pictures:[],userTotal:1,color:""}},methods:{makeBanner(){},thumb(){this.$request.put(`/job/thumb/${this.$route.params.id}`).then((t=>{this.jobwu.thumb++,this.color="color:#39a9ed;pointer-events:none;"}))},userjobs(){this.$router.push(`/userjobs/${this.$route.params.uid}`)}},mounted(){this.$request.get(`/job/getOneWUA/${this.$route.params.id}`).then((t=>{2e4===t.data.code&&(this.jobwu=t.data.data,this.pictures=t.data.data.picture.split("@@"),this.pictures.pop(),document.title=this.jobwu.title+"-"+document.title)})),this.$request.get(`/job/getTotal/${this.$route.params.uid}`).then((t=>{this.userTotal=t.data.data})),this.$request.get(`/job/random/${this.$route.params.id}`).then((t=>{30001===t.data.code?this.random=null:2e4===t.data.code&&(this.random=t.data.data)}))},components:{Job:G,Header:mt}},ft=vt,gt=(0,I.Z)(ft,rt,lt,!1,null,"90b614d6",null),bt=gt.exports,wt=function(){var t=this,e=t._self._c;return e("div",[e("van-cell-group",[e("van-cell",{attrs:{title:"微信单","is-link":"",to:"/JobDetails/10000/1"}}),e("van-cell",{attrs:{title:"QQ单","is-link":"",to:"/JobDetails/10000/2"}}),e("van-cell",{attrs:{title:"需求发布","is-link":"",to:"/JobDetails/10000/3"}}),e("van-cell",{attrs:{title:"骗子曝光","is-link":"",to:"/JobDetails/10000/4"}})],1)],1)},_t=[],$t={},kt=$t,xt=(0,I.Z)(kt,wt,_t,!1,null,null,null),yt=xt.exports,Zt=function(){var t=this,e=t._self._c;return e("div")},jt=[],Ct={},Pt=Ct,qt=(0,I.Z)(Pt,Zt,jt,!1,null,null,null),Lt=qt.exports,zt=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"信息发布"}}),t._m(0),e("van-form",{attrs:{"validate-trigger":"onChange"},on:{submit:t.onSubmit}},[e("van-field",{attrs:{readonly:"",clickable:"",label:"分类",value:t.sort,placeholder:"选择分类"},on:{click:function(e){t.showPicker=!0}}}),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[e("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm}})],1),e("van-field",{attrs:{name:"标题",label:"标题",placeholder:"请输入标题",rules:[{required:t.required,message:"标题不能为空，且长度小于20",pattern:/^[\u4e00-\u9fa5\w]{1,20}$/}]},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),e("van-field",{attrs:{rows:"8",autosize:"",label:"详情",type:"textarea",placeholder:"请输入详情",rules:[{required:t.required,message:"详情不能为空，且在10到4000字之间",pattern:/^[\u4e00-\u9fa5\w\W\d\D\r\t\n\s]{10,4000}$/}]},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}}),e("div",{staticClass:"uploader"},[e("van-uploader",{attrs:{"after-read":t.afterRead,"max-size":2097152},on:{oversize:t.onOversize,delete:t.onDel},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),e("van-field",{attrs:{label:"联系方式1"},model:{value:t.contactor1,callback:function(e){t.contactor1="string"===typeof e?e.trim():e},expression:"contactor1"}}),e("van-field",{attrs:{label:"联系方式2"},model:{value:t.contactor2,callback:function(e){t.contactor2="string"===typeof e?e.trim():e},expression:"contactor2"}}),e("van-field",{directives:[{name:"show",rawName:"v-show",value:"需求发布"==t.sort,expression:"sort=='需求发布'"}],attrs:{type:"digit",label:"团队人数"},model:{value:t.groupnum,callback:function(e){t.groupnum=t._n(e)},expression:"groupnum"}}),e("van-field",{attrs:{type:"digit",label:"单价"},model:{value:t.price,callback:function(e){t.price=t._n(e)},expression:"price"}}),e("div",{staticClass:"checkbox"},[e("van-checkbox",{model:{value:t.guarantee,callback:function(e){t.guarantee=e},expression:"guarantee"}},[t._v("支持担保")]),e("van-checkbox",{model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}},[t._v("展示")])],1),e("div",{staticClass:"btng"},[e("van-button",{attrs:{type:"info",disabled:t.balance<1}},[t._v("金币支付")]),e("div",{staticClass:"balance"},[t._v("我的金币:"),e("span",[t._v(t._s(t.balance))]),t._v(",本次扣除:1")])],1)],1)],1)},St=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"pgtitle"},[t._v(" 1. 请勿发布欺诈，违反国家法律法规等信息"),e("br"),t._v(" 2. 禁止发布与广告内容不符的虚假信息"),e("br"),t._v(" 3. 网站发布信息内容与本站无关。如遇违法信息不排除报警处理"),e("br")])}],Tt={data(){return{sort:"",showPicker:!1,columns:["QQ单","微信单","需求发布","骗子曝光"],title:"",detail:"",fileList:[],uploadedFile:[],contactor1:"",contactor2:"",groupnum:0,price:0,guarantee:!1,showing:!0,balance:0,picture:""}},methods:{onConfirm(t,e){this.sort=t,this.showPicker=!1},afterRead(t,e){t.status="uploading",t.message="上传中";const a=new FormData;a.append("uploadFile",t.file),this.$request.post("/user/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{2e4===e.data.code?(t.status="done",t.message="上传成功",this.uploadedFile.push({detail:e.data.data})):40003===e.data.code?(this.$toast.fail("只支持jpg png gif格式的图片"),t.status="failed",t.message="格式错误"):(t.status="failed",t.message="上传失败")})).catch((()=>{t.status="failed",t.message="服务繁忙"}))},onOversize(t){this.$toast.fail("图片大小不能大于2MB")},onDel(t,e){this.uploadedFile.splice(e.index)},onSubmit(){for(const t in this.uploadedFile)this.picture+=Object.values(this.uploadedFile[t])+"@@";this.$request.post("/job",{cname:this.sort,title:this.title,detail:this.detail,groupnum:this.groupnum,guarantee:this.guarantee,price:this.price,contactor1:this.contactor1,contactor2:this.contactor2,date:this.date,showing:this.showing,picture:this.picture}).then((t=>{2e4===t.data.code?(this.$toast.success("发布成功"),this.$router.push("/mine/joblist")):this.$toast.success("发布失败")}))}},mounted(){this.$request.get("/user/getInfo").then((t=>{2e4===t.data.code&&(this.balance=t.data.data.balance)}))}},Ot=Tt,Dt=(0,I.Z)(Ot,zt,St,!1,null,"5191f7c0",null),At=Dt.exports,Ft=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"信息更新"}}),t._m(0),e("van-form",{attrs:{"validate-trigger":"onChange"},on:{submit:t.onSubmit}},[e("van-field",{attrs:{readonly:"",clickable:"",label:"分类",value:t.sort,placeholder:"选择分类"},on:{click:function(e){t.showPicker=!0}}}),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[e("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirm}})],1),e("van-field",{attrs:{name:"标题",label:"标题",placeholder:"请输入标题",rules:[{required:t.required,message:"标题不能为空，且长度小于20",pattern:/^[\u4e00-\u9fa5\w]{1,20}$/}]},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),e("van-field",{attrs:{rows:"8",autosize:"",label:"详情",type:"textarea","show-word-limit":"",maxlength:"4000",placeholder:"请输入详情",rules:[{required:t.required,message:"详情不能为空，且在10到4000字之间",pattern:/^[\u4e00-\u9fa5\w\W\d\D\r\t\n\s]{10,4000}$/}]},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}}),e("div",{staticClass:"uploader"},[e("van-uploader",{attrs:{"after-read":t.afterRead,"max-size":2097152},on:{oversize:t.onOversize},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),e("van-field",{attrs:{label:"联系方式1"},model:{value:t.contactor1,callback:function(e){t.contactor1="string"===typeof e?e.trim():e},expression:"contactor1"}}),e("van-field",{attrs:{label:"联系方式2"},model:{value:t.contactor2,callback:function(e){t.contactor2="string"===typeof e?e.trim():e},expression:"contactor2"}}),e("van-field",{directives:[{name:"show",rawName:"v-show",value:"需求发布"==t.sort,expression:"sort=='需求发布'"}],attrs:{type:"digit",label:"团队人数"},model:{value:t.groupnum,callback:function(e){t.groupnum=t._n(e)},expression:"groupnum"}}),e("van-field",{attrs:{type:"digit",label:"单价"},model:{value:t.price,callback:function(e){t.price=t._n(e)},expression:"price"}}),e("div",{staticClass:"checkbox"},[e("van-checkbox",{model:{value:t.guarantee,callback:function(e){t.guarantee=e},expression:"guarantee"}},[t._v("支持担保")]),e("van-checkbox",{model:{value:t.showing,callback:function(e){t.showing=e},expression:"showing"}},[t._v("展示")])],1),e("div",{staticClass:"btng"},[e("van-button",{attrs:{type:"primary"}},[t._v("更新")])],1)],1)],1)},Ht=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"pgtitle"},[t._v(" 1. 请勿发布欺诈，违反国家法律法规等信息"),e("br"),t._v(" 2. 禁止发布与广告内容不符的虚假信息"),e("br"),t._v(" 3. 网站发布信息内容与本站无关。如遇违法信息不排除报警处理"),e("br")])}],It={data(){return{sort:"",showPicker:!1,columns:["QQ单","微信单","需求发布","骗子曝光"],id:0,title:"",detail:"",fileList:[],contactor1:"",contactor2:"",groupnum:0,price:0,guarantee:!1,showing:!0,balance:0,picture:""}},methods:{onConfirm(t,e){this.sort=t,this.showPicker=!1},afterRead(t,e){t.status="uploading",t.message="上传中";const a=new FormData;a.append("uploadFile",t.file),this.$request.post("/user/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{2e4===e.data.code?(t.status="done",t.message="上传成功",this.fileList.pop(),this.fileList.push({url:e.data.data})):40003===e.data.code?(this.$toast.fail("只支持jpg png gif格式的图片"),t.status="failed",t.message="格式错误"):(t.status="failed",t.message="上传失败")})).catch((()=>{t.status="failed",t.message="服务繁忙"}))},onOversize(t){this.$toast.success("图片大小不能大于2MB")},onSubmit(){for(const t in this.fileList)this.picture+=Object.values(this.fileList[t])+"@@";this.$request.put("/job",{id:this.id,cname:this.sort,title:this.title,detail:this.detail,groupnum:this.groupnum,guarantee:this.guarantee,price:this.price,contactor1:this.contactor1,contactor2:this.contactor2,date:this.date,showing:this.showing,picture:this.picture}).then((t=>{2e4===t.data.code?(this.$toast.success("更新成功"),this.$router.push("/mine/joblist")):this.$toast.success("更新失败")}))}},mounted(){this.$request.get("/job/"+this.$route.params.id).then((t=>{if(2e4===t.data.code){const e=t.data.data;this.sort=e.cname,this.id=e.id,this.title=e.title,this.detail=e.detail,this.groupnum=e.groupnum,this.guarantee=e.guarantee,this.price=e.price,this.contactor1=e.contactor1,this.contactor2=e.contactor2,this.showing=e.showing;for(const t in e.picture.split("@@"))""!==e.picture.split("@@")[t]&&this.fileList.push({url:e.picture.split("@@")[t]})}}))}},Jt=It,Nt=(0,I.Z)(Jt,Ft,Ht,!1,null,"cfdc97c2",null),Qt=Nt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"我发布的"}}),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[e("van-cell-group",t._l(t.jobList,(function(t){return e("van-cell",{key:t.id,attrs:{title:t.title,"is-link":"",to:"jobupd/"+t.id,label:"发布于"+t.date!=null?t.date:""}})})),1)],1)],1)},Rt=[],Mt={data(){return{jobList:[],current:0,size:20,loading:!1,finished:!1}},methods:{onLoad(){this.loading=!0,this.current++,this.getList()},getList(){this.$request(`/job/${this.current}/${this.size}?user=true`).then((t=>{if(2e4===t.data.code){if(this.loading=!1,0===t.data.data.length)return void(this.finished=!0);this.jobList=[...this.jobList,...t.data.data]}}))}}},Wt=Mt,Et=(0,I.Z)(Wt,Bt,Rt,!1,null,null,null),Ut=Et.exports,Vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("Header",{attrs:{title:"用户登录"}}),e("h1",[t._v("用户登录")]),e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{name:"账户",label:"账户",placeholder:"手机号/邮箱",rules:[{required:!0,message:"请填写你的昵称"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"输入你的密码",rules:[{required:!0,message:"密码必须为6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种",pattern:/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)([^\u4e00-\u9fa5\s]){8,20}$/}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticClass:"tip"},[t._v("没有账号?"),e("a",{on:{click:t.switchPage}},[t._v("去注册")])]),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("登录")])],1)],1)],1)},Gt=[],Kt={data(){return{username:"",password:""}},methods:{async onSubmit(t){const{data:e}=await this.$request.post("/user/login",{account:this.username,password:this.password},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});2e4===e.code?(this.$toast.success("登录成功"),localStorage.setItem("id",e.data.id),localStorage.setItem("username",e.data.username),localStorage.setItem("avatar",e.data.avatar),setTimeout((()=>{this.$router.replace("/user")}),1e3)):this.$toast.fail("登录失败，用户名或密码错误")},switchPage(){this.$router.push("register")}},created(){console.log(document.cookie)}},Xt=Kt,Yt=(0,I.Z)(Xt,Vt,Gt,!1,null,null,null),te=Yt.exports,ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"register"},[e("Header",{attrs:{title:"用户注册"}}),e("h1",[t._v("用户注册")]),e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{name:"uploader",label:"头像",rules:[{required:!0,message:"请先上传头像"}]},scopedSlots:t._u([{key:"input",fn:function(){return[e("van-uploader",{attrs:{"max-count":"1","max-size":2097152,"after-read":t.afterRead},on:{oversize:t.onOversize},model:{value:t.uploader,callback:function(e){t.uploader=e},expression:"uploader"}})]},proxy:!0}])}),e("van-field",{attrs:{name:"你的昵称",label:"你的昵称",placeholder:"输入你的昵称",rules:[{required:!0,message:"请填写你的昵称"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("van-field",{attrs:{type:"telephone",name:"你的手机号",label:"你的手机号",placeholder:"输入你的手机号",rules:[{required:!0,message:"请填写正确的手机号",pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/}]},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}}),e("van-field",{attrs:{type:"email",name:"你的邮箱",label:"你的邮箱",placeholder:"输入你的邮箱",rules:[{required:!0,message:"请填写正确的邮箱",pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("van-field",{attrs:{type:"password",name:"你的密码",label:"密码",placeholder:"输入你的密码",rules:[{required:!0,message:"密码必须为6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种",pattern:/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)([^\u4e00-\u9fa5\s]){8,20}$/}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticClass:"tip"},[t._v("已有账号?"),e("a",{on:{click:t.switchPage}},[t._v("去登录")])]),e("div",{staticStyle:{margin:"16px"}},[t.success?t._e():e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("注册")]),t.success?e("van-button",{attrs:{round:"",block:"",type:"info",to:"/user/login"}},[t._v("去登陆")]):t._e()],1)],1)],1)},ae=[],se={data(){return{username:"",password:"",telephone:"",email:"",success:!1,uploader:[]}},methods:{async onSubmit(t){const{data:e}=await this.$request.post("/user/register",{username:this.username,password:this.password,phone:this.telephone,email:this.email,avatar:this.uploader[0].url},{header:{"Content-Type":"application/x-www-form-urlencoded"}});2e4===e.code?(this.success=!0,this.$toast.success(e.message)):this.$toast.fail(e.message)},switchPage(){this.$router.push("login")},afterRead(t,e){t.status="uploading",t.message="上传中";const a=new FormData;a.append("uploadFile",t.file),this.$request.post("/user/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{2e4===e.data.code?(t.status="done",t.message="上传成功",this.uploader=[{url:e.data.data}]):40003===e.data.code?(this.$toast.fail("只支持jpg png gif格式的图片"),t.status="failed",t.message="格式错误"):(t.status="failed",t.message="上传失败")})).catch((()=>{t.status="failed",t.message="服务繁忙"}))},onOversize(t){this.$toast.success("图片大小不能大于2MB")}}},ie=se,ne=(0,I.Z)(ie,ee,ae,!1,null,null,null),oe=ne.exports,re={},le=(0,I.Z)(re,s,i,!1,null,null,null),ue=le.exports,ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"private"},[e("Header",{attrs:{title:"我的信息"}}),e("van-form",{on:{submit:t.onSubmit}},[e("van-uploader",{attrs:{"max-count":"1","max-size":2097152,"after-read":t.afterRead},on:{oversize:t.onOversize},model:{value:t.uploader,callback:function(e){t.uploader=e},expression:"uploader"}}),e("van-cell-group",[e("van-field",{attrs:{label:"标识",readonly:"",placeholder:"加载中..."},model:{value:t.myinfo.id,callback:function(e){t.$set(t.myinfo,"id",e)},expression:"myinfo.id"}}),e("van-field",{attrs:{label:"用户名",placeholder:"加载中...",rules:[{required:t.required,message:"用户名不能为空，且长度为2-20",pattern:/^[\u4e00-\u9fa5\w]{2,10}$/}]},model:{value:t.myinfo.username,callback:function(e){t.$set(t.myinfo,"username",e)},expression:"myinfo.username"}}),e("van-field",{attrs:{label:"邮箱",readonly:"",placeholder:"加载中..."},model:{value:t.myinfo.email,callback:function(e){t.$set(t.myinfo,"email",e)},expression:"myinfo.email"}}),e("van-field",{attrs:{label:"手机",readonly:"",placeholder:"加载中..."},model:{value:t.myinfo.phone,callback:function(e){t.$set(t.myinfo,"phone",e)},expression:"myinfo.phone"}}),e("van-field",{attrs:{label:"余额",readonly:"",placeholder:"加载中..."},model:{value:t.myinfo.balance,callback:function(e){t.$set(t.myinfo,"balance",e)},expression:"myinfo.balance"}}),e("div",{staticClass:"repass"},[e("van-field",{attrs:{label:"身份验证",placeholder:"请输入原密码进行身份验证",type:"password",rules:[{required:!0,message:"密码必须为6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种",pattern:/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)([^\u4e00-\u9fa5\s]){8,20}$/}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("span",{staticClass:"tip"},[t._v("密码修改,留空则不修改：")]),e("van-field",{attrs:{label:"新密码",placeholder:"请输入新密码",type:"password",rules:[{required:!1,message:"密码必须为6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种",pattern:/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)([^\u4e00-\u9fa5\s]){0,20}$/}]},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}}),e("van-field",{attrs:{label:"确认新密码",placeholder:"请再次输入新密码",type:"password",rules:[{required:!1,message:"密码必须为6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种",pattern:/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$)([^\u4e00-\u9fa5\s]){0,20}$/}]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),e("van-button",{attrs:{plain:"",hairline:"",type:"info"}},[t._v("提交修改")])],1)],1)],1)],1)},de=[],pe={data(){return{myinfo:{id:0,username:"",phone:"",email:"",avatar:"",balance:0},password:null,newPassword:null,confirmPassword:null,uploader:[]}},methods:{onSubmit(){void 0!==this.uploader[0]?this.newPassword===this.confirmPassword?this.$request.put("/user/updateInfo",{account:this.myinfo.phone,oldPassword:this.password,newPassword:this.newPassword,avatar:this.uploader[0].url,username:this.myinfo.username},{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then((t=>{30001===t.data.code&&this.$toast.fail("原密码错误，身份验证失败"),2e4===t.data.code&&(this.$toast.fail("信息修改成功"),localStorage.setItem("username",this.myinfo.username),localStorage.setItem("avatar",this.uploader[0].url))})):this.$toast.fail("两次输入的新密码不一致"):this.$toast.fail("请上传头像")},afterRead(t,e){t.status="uploading",t.message="上传中";const a=new FormData;a.append("uploadFile",t.file),this.$request.post("/user/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{2e4===e.data.code?(t.status="done",t.message="上传成功",this.uploader=[{url:e.data.data}]):40003===e.data.code?(this.$toast.fail("只支持jpg png gif格式的图片"),t.status="failed",t.message="格式错误"):(t.status="failed",t.message="上传失败")})).catch((()=>{t.status="failed",t.message="服务繁忙"}))},onOversize(t){this.$toast.success("图片大小不能大于2MB")}},mounted(){this.$request.get("/user/getInfo").then((t=>{2e4===t.data.code&&(this.myinfo=t.data.data,this.uploader=[{url:this.myinfo.avatar}])}))}},he=pe,me=(0,I.Z)(he,ce,de,!1,null,null,null),ve=me.exports,fe=function(){var t=this,e=t._self._c;return e("div",[e("Header"),t.loading?e("div",[e("van-skeleton",{attrs:{title:"",avatar:"",row:3,loading:t.loading}},[e("div",[t._v("网络异常")])])],1):e("div",{staticClass:"head"},[e("div",{staticClass:"picture"},[e("van-image",{attrs:{round:"",width:"70px",height:"70px",src:t.userinfo.avatar}})],1),e("div",{staticClass:"jobinfo"},[e("h3",[t._v(t._s(t.userinfo.username))]),e("div",{staticClass:"tip"},[e("span",[t._v("发布"+t._s(t.userTotal)+"条")])])])]),e("div",{staticClass:"joblist"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.jobloading,callback:function(e){t.jobloading=e},expression:"jobloading"}},t._l(t.jobList,(function(t){return e("Job",{key:t.id,staticStyle:{"margin-top":"5px",padding:"15px"},attrs:{id:t.id,uid:t.uid,title:t.title,cname:t.cname,avatar:t.avatar,publisher:t.username,detail:t.detail,view:t.view,date:t.date,price:t.price,topping:t.topping,guarantee:t.guarantee}})})),1)],1)],1)},ge=[],be={data(){return{userinfo:{username:"参数错误",avatar:""},userTotal:0,loading:!0,jobloading:!0,finished:!1,jobList:[],current:1,size:10}},methods:{onLoad(){this.jobloading=!0,this.current++,this.getAll()},getAll(){this.$request.get(`/job/jau/${this.$route.params.uid}/${this.current}/${this.size}`).then((t=>{this.jobloading=!1,0!==t.data.data.records.length?this.jobList=[...this.jobList,...t.data.data.records]:this.finished=!0}))}},mounted(){this.$request.get(`/user/getinfo/${this.$route.params.uid}`).then((t=>{null!=t.data.data?(this.userinfo=t.data.data,this.loading=!1):this.$toast.fail("用户不存在")})).catch((()=>{this.$toast.fail("网络异常")})),this.$request.get(`/job/getTotal/${this.$route.params.uid}`).then((t=>{this.userTotal=t.data.data})),this.getAll()},components:{Job:G}},we=be,_e=(0,I.Z)(we,fe,ge,!1,null,"58f1804c",null),$e=_e.exports;O.ZP.use(u.Z),O.ZP.use(Q.Z);const ke=[{path:"/",component:tt},{path:"/sort",component:yt},{path:"/message",component:Lt},{path:"/user",component:ot},{path:"/login",component:te},{path:"/register",component:oe},{path:"/mine/jobadd",component:At},{path:"/mine/jobupd/:id",component:Qt},{path:"/mine/joblist",component:Ut},{path:"/mine/setting",component:ve},{path:"/mine/packet",component:ue},{path:"/jobDetails/:uid/:id",component:bt},{path:"/userjobs/:uid",component:$e}],xe=new Q.Z({routes:ke,base:"/master/"});xe.beforeEach(((t,e,a)=>{null!==localStorage.getItem("id")?-1!==t.path.indexOf("register")||-1!==t.path.indexOf("login")?a("/user"):a():-1===t.path.indexOf("mine")?a():((0,u.Z)("您还未登录，请先登录"),a("/login"))}));var ye=xe,Ze=function(){var t=this,e=t._self._c;return e("van-skeleton",{attrs:{title:"",avatar:"",row:3,loading:!t.initialized}})},je=[],Ce={props:{initialized:{type:Boolean,default:!0,require:!0}}},Pe=Ce,qe=(0,I.Z)(Pe,Ze,je,!1,null,null,null),Le=qe.exports,ze=a(6265),Se=a.n(ze),Te=Se().create({baseURL:"http://daditg.top/",crossDomain:!0,withCredentials:!0});O.ZP.prototype.$request=Te,O.ZP.use(T.Z),O.ZP.use(S.Z),O.ZP.use(z.Z),O.ZP.use(L.Z),O.ZP.use(q.Z),O.ZP.use(P.Z),O.ZP.use(C.Z),O.ZP.use(j.Z),O.ZP.use(Z.Z),O.ZP.use(y.Z),O.ZP.use(x.Z),O.ZP.use(k.Z),O.ZP.use($.Z),O.ZP.use(_.Z),O.ZP.use(w.Z),O.ZP.use(b.Z),O.ZP.use(g.Z),O.ZP.use(f.Z),O.ZP.use(v.Z),O.ZP.use(m.Z),O.ZP.use(h.Z),O.ZP.use(p.Z),O.ZP.use(d.Z),O.ZP.use(c.Z),O.ZP.use(u.Z),O.ZP.use(l.Z),O.ZP.use(r.Z),O.ZP.use(o.Z),O.ZP.use(n.Z),O.ZP.config.productionTip=!1,O.ZP.component("Header",mt),O.ZP.component("Loading",Le),new O.ZP({router:ye,render:t=>t(N)}).$mount("#app"),O.ZP.config.errorHandler=function(t,e,a){t&&(0,u.Z)("网络异常")}},6949:function(t,e,a){t.exports=a.p+"img/logo.b484050b.png"}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,n){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],n=t[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,i,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,n,o=s[0],r=s[1],l=s[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var c=l(a)}for(e&&e(s);u<o.length;u++)n=o[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},s=self["webpackChunktiezifabu"]=self["webpackChunktiezifabu"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2902)}));s=a.O(s)})();
//# sourceMappingURL=app.5ac98188.js.map